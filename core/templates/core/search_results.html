<!-- search_results.html -->
{% extends 'core/base.html' %}

{% block content %}
<h2>Resultados de búsqueda para "{{ query }}"</h2>

{% if results.variedades %}
    <h3>Variedades</h3>
    <ul>
    {% for result in results.variedades %}
        <li>{{ result.nombre }} - {{ result.descripcion }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.condiciones_cultivo %}
    <h3>Condiciones de Cultivo</h3>
    <ul>
    {% for result in results.condiciones_cultivo %}
        <li>{{ result.variedad.nombre }} - {{ result.tipo_suelo }} - {{ result.nutrientes }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.cultivos %}
    <h3>Cultivos</h3>
    <ul>
    {% for result in results.cultivos %}
        <li>{{ result.variedad.nombre }} - {{ result.cantidad_plantas }} plantas</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.analisis_costos %}
    <h3>Análisis de Costos</h3>
    <ul>
    {% for result in results.analisis_costos %}
        <li>Costo Semilla: {{ result.costo_semilla }} - Costo Sustrato: {{ result.costo_sustrato }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.tratamientos_fitofarmaceuticos %}
    <h3>Tratamientos Fitofarmacéuticos</h3>
    <ul>
    {% for result in results.tratamientos_fitofarmaceuticos %}
        <li>{{ result.variedad.nombre }} - {{ result.tratamiento }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.analisis_calidad %}
    <h3>Análisis de Calidad</h3>
    <ul>
    {% for result in results.analisis_calidad %}
        <li>{{ result.tipo_analisis }} - {{ result.variedad.nombre }} - {{ result.resultado }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.clientes %}
    <h3>Clientes</h3>
    <ul>
    {% for result in results.clientes %}
        <li>{{ result.nombre }} - {{ result.direccion }} - {{ result.telefono }} - {{ result.email }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.tipo_muestras %}
    <h3>Tipos de Muestra</h3>
    <ul>
    {% for result in results.tipo_muestras %}
        <li>{{ result.nombre }} - {{ result.descripcion }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.muestras %}
    <h3>Muestras</h3>
    <ul>
    {% for result in results.muestras %}
        <li>{{ result.codigo }} - {{ result.cliente.nombre }} - {{ result.tipo.nombre }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.tipo_analisis %}
    <h3>Tipos de Análisis</h3>
    <ul>
    {% for result in results.tipo_analisis %}
        <li>{{ result.nombre }} - {{ result.descripcion }} - {{ result.metodo }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.analisis_programado %}
    <h3>Análisis Programados</h3>
    <ul>
    {% for result in results.analisis_programado %}
        <li>{{ result.muestra.codigo }} - {{ result.tipo_analisis.nombre }} - Prioridad: {{ result.prioridad }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.resultado_analisis %}
    <h3>Resultados de Análisis</h3>
    <ul>
    {% for result in results.resultado_analisis %}
        <li>{{ result.analisis_programado.muestra.codigo }} - {{ result.resultados }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.productos %}
    <h3>Productos</h3>
    <ul>
    {% for result in results.productos %}
        <li>{{ result.name }} - {{ result.code }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.gastos_operativos %}
    <h3>Gastos Operativos</h3>
    <ul>
    {% for gasto in results.gastos_operativos %}
        <li>
            {{ gasto.tipo_gasto }} - {{ gasto.descripcion }} 
            ({{ gasto.variedad.nombre }}) - ${{ gasto.monto }}
        </li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.ventas %}
    <h3>Ventas</h3>
    <ul>
    {% for venta in results.ventas %}
        <li>
            {{ venta.producto }} - {{ venta.cantidad }} unidades 
            ({{ venta.variedad.nombre }}) - ${{ venta.precio_unitario }} por unidad
        </li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.pedidos %}
    <h3>Pedidos</h3>
    <ul>
    {% for pedido in results.pedidos %}
        <li>
            <strong>{{ pedido.producto }}</strong>
            {{ pedido.variedad.nombre }} - {{ pedido.cantidad }} unidades
            <br>
            Pedido: {{ pedido.fecha_pedido|date:"F d, Y" }} - Entrega: {{ pedido.fecha_entrega|date:"F d, Y" }}
        </li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.materiales %}
    <h3>Materiales</h3>
    <ul>
    {% for material in results.materiales %}
        <li>{{ material.nombre }} - {{ material.descripcion }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.lista_materiales %}
    <h3>Listas de Materiales</h3>
    <ul>
    {% for lista in results.lista_materiales %}
        <li>{{ lista.nombre }} - {{ lista.descripcion }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.items_lista_materiales %}
    <h3>Items de Lista de Materiales</h3>
    <ul>
    {% for item in results.items_lista_materiales %}
        <li>{{ item.nombre }} - {{ item.cantidad }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.plan_produccion %}
    <h3>Planes de Producción</h3>
    <ul>
    {% for plan in results.plan_produccion %}
        <li>{{ plan.nombre }} - {{ plan.descripcion }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.tareas_produccion %}
    <h3>Tareas de Producción</h3>
    <ul>
    {% for tarea in results.tareas_produccion %}
        <li>{{ tarea.nombre }} - {{ tarea.descripcion }}</li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.miembros %}
    <h3>Miembros</h3>
    <ul>
    {% for miembro in results.miembros %}
        <li>
            {{ miembro.nombre }} - {{ miembro.rol }}
            <ul>
                <li><strong>Número de Socio:</strong> {{ miembro.numero_socio }}</li>
                <li><strong>Email:</strong> {{ miembro.email }}</li>
                <li><strong>Fecha de Ingreso:</strong> {{ miembro.fecha_ingreso }}</li>
            </ul>
        </li>
    {% endfor %}
    </ul>
{% endif %}

{% if results.cuotas %}
<h3>Cuotas</h3>
<div>
    {% for cuota in results.cuotas %}
        <p>{{ cuota.monto }}</p>
        <p>--------------</p>
    {% endfor %}
</div>

{% endif %}

{% endblock %}
